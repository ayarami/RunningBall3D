[{"__type__":"cc.ImageAsset","content":{"fmt":"0","w":0,"h":0}},{"__type__":"cc.SpriteFrame","content":{"image":"038f9079-a018-41fb-9733-4fff184ebf66","name":"next2","atlas":"","rect":{"x":0,"y":0,"width":398,"height":65},"offset":{"x":0,"y":0},"originalSize":{"width":398,"height":65},"rotated":false,"capInsets":[0,0,0,0]}},{"__type__":"cc.Mesh","_name":"","_objFlags":0,"_native":".bin","_struct":{"primitives":[{"primitiveMode":7,"vertexBundelIndices":[0],"geometricInfo":{"view":{"offset":52272,"length":13068,"count":3267,"stride":4}},"indexView":{"offset":65340,"length":12288,"count":6144,"stride":2}}],"vertexBundles":[{"view":{"offset":0,"length":52272,"count":1089,"stride":48},"attributes":[{"name":"a_normal","format":32,"isNormalized":false},{"name":"a_position","format":32,"isNormalized":false},{"name":"a_texCoord","format":21,"isNormalized":false},{"name":"a_tangent","format":43,"isNormalized":false}]}],"minPosition":{"__type__":"cc.Vec3","x":-0.5,"y":-0.5,"z":-0.5},"maxPosition":{"__type__":"cc.Vec3","x":0.5,"y":0.5,"z":0.5}},"_dataLength":77628},{"__type__":"cc.Mesh","_name":"","_objFlags":0,"_native":".bin","_struct":{"primitives":[{"primitiveMode":7,"vertexBundelIndices":[0],"geometricInfo":{"view":{"offset":5808,"length":1452,"count":363,"stride":4}},"indexView":{"offset":7260,"length":1200,"count":600,"stride":2}}],"vertexBundles":[{"view":{"offset":0,"length":5808,"count":121,"stride":48},"attributes":[{"name":"a_normal","format":32,"isNormalized":false},{"name":"a_position","format":32,"isNormalized":false},{"name":"a_texCoord","format":21,"isNormalized":false},{"name":"a_tangent","format":43,"isNormalized":false}]}],"minPosition":{"__type__":"cc.Vec3","x":-5,"y":0,"z":-5},"maxPosition":{"__type__":"cc.Vec3","x":5,"y":0,"z":5}},"_dataLength":8460},{"__type__":"cc.EffectAsset","_name":"builtin-standard","_objFlags":0,"_native":"","techniques":[{"name":"opaque","passes":[{"program":"builtin-standard|standard-vs:vert|standard-fs:frag","properties":{"tilingOffset":{"value":[1,1,0,0],"type":16},"albedo":{"value":[1,1,1,1],"type":16},"albedoScale":{"value":[1,1,1,0],"type":16},"pbrParams":{"value":[0.8,0.6,1,1],"type":16},"pbrScale":{"value":[1,1,1,1],"type":16},"emissive":{"value":[0,0,0,1],"type":16},"emissiveScale":{"value":[1,1,1,1],"type":16},"albedoMap":{"value":"grey","type":28},"normalMap":{"value":"normal","type":28},"pbrMap":{"value":"grey","type":28},"metallicRoughnessMap":{"value":"grey","type":28},"occlusionMap":{"value":"white","type":28},"emissiveMap":{"value":"grey","type":28}}}]},{"name":"transparent","passes":[{"blendState":{"targets":[{"blend":true,"blendSrc":2,"blendDst":4,"blendDstAlpha":4}]},"program":"builtin-standard|standard-vs:vert|standard-fs:frag","depthStencilState":{"depthTest":true,"depthWrite":false},"properties":{"tilingOffset":{"value":[1,1,0,0],"type":16},"albedo":{"value":[1,1,1,1],"type":16},"albedoScale":{"value":[1,1,1,0],"type":16},"pbrParams":{"value":[0.8,0.6,1,1],"type":16},"pbrScale":{"value":[1,1,1,1],"type":16},"emissive":{"value":[0,0,0,1],"type":16},"emissiveScale":{"value":[1,1,1,1],"type":16},"albedoMap":{"value":"grey","type":28},"normalMap":{"value":"normal","type":28},"pbrMap":{"value":"grey","type":28},"metallicRoughnessMap":{"value":"grey","type":28},"occlusionMap":{"value":"white","type":28},"emissiveMap":{"value":"grey","type":28}}}]}],"shaders":[{"hash":1071940485,"glsl1":{"vert":"\nprecision highp float;\nuniform mat4 cc_matViewProj;\nuniform highp mat4 cc_matWorld;\nuniform highp mat4 cc_matWorldIT;\nuniform highp mat4 cc_matWorlds[10];\n\nstruct StandardAttributes {\n  vec4 position;\n  vec3 normal;\n  vec4 tangent;\n  int index;\n};\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_tangent;\n#if USE_BATCHING\nattribute float a_index;\n#endif\n\nvoid CCDecode (out StandardAttributes attr) {\n  attr.position = vec4(a_position, 1.0);\n  attr.normal = a_normal;\n  attr.tangent = a_tangent;\n#if USE_BATCHING\n  attr.index = int(a_index + 0.5);\n#endif\n}\n\n#if CC_USE_SKINNING\n\nattribute vec4 a_weights;\nattribute vec4 a_joints;\nuniform highp vec4 cc_jointsTextureInfo;\nuniform highp vec4 cc_jointsAnimInfo;\nuniform sampler2D cc_jointsTexture;\n\n#if CC_USE_SKINNING == 1\n  highp float decode32(highp vec4 rgba) {\n    rgba = rgba * 255.0;\n\n    highp float Sign = 1.0 - step(128.0, rgba[3]) * 2.0;\n    highp float Exponent = 2.0 * mod(rgba[3], 128.0) + step(128.0, rgba[2]) - 127.0;\n    highp float Mantissa = mod(rgba[2], 128.0) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\n    return Sign * exp2(Exponent - 23.0) * Mantissa;\n  }\n#endif\n\n#if CC_USE_SKINNING == 1\n  void getJointDQ(float i, out vec4 Qr, out vec4 Qt, out vec3 S) {\n    highp float j = 12.0 * (cc_jointsAnimInfo.x * i + cc_jointsAnimInfo.y) + cc_jointsTextureInfo.z;\n    highp float invSize = cc_jointsTextureInfo.y;\n    highp float y = floor(j * invSize);\n    highp float x = j - y * cc_jointsTextureInfo.x;\n    y = (y + 0.5) * invSize;\n    Qr = vec4(\n      decode32(texture2D(cc_jointsTexture, vec2((x + 0.5) * invSize, y))),\n      decode32(texture2D(cc_jointsTexture, vec2((x + 1.5) * invSize, y))),\n      decode32(texture2D(cc_jointsTexture, vec2((x + 2.5) * invSize, y))),\n      decode32(texture2D(cc_jointsTexture, vec2((x + 3.5) * invSize, y)))\n    );\n    Qt = vec4(\n      decode32(texture2D(cc_jointsTexture, vec2((x + 4.5) * invSize, y))),\n      decode32(texture2D(cc_jointsTexture, vec2((x + 5.5) * invSize, y))),\n      decode32(texture2D(cc_jointsTexture, vec2((x + 6.5) * invSize, y))),\n      decode32(texture2D(cc_jointsTexture, vec2((x + 7.5) * invSize, y)))\n    );\n    S = vec3(\n      decode32(texture2D(cc_jointsTexture, vec2((x + 8.5) * invSize, y))),\n      decode32(texture2D(cc_jointsTexture, vec2((x + 9.5) * invSize, y))),\n      decode32(texture2D(cc_jointsTexture, vec2((x + 10.5) * invSize, y)))\n    );\n  }\n#elif CC_USE_SKINNING == 2\n  void getJointDQ(float i, out vec4 Qr, out vec4 Qt, out vec3 S) {\n    highp float j = 3.0 * (cc_jointsAnimInfo.x * i + cc_jointsAnimInfo.y) + cc_jointsTextureInfo.z;\n    highp float invSize = cc_jointsTextureInfo.y;\n    highp float y = floor(j * invSize);\n    highp float x = j - y * cc_jointsTextureInfo.x;\n    y = (y + 0.5) * invSize;\n    Qr = texture2D(cc_jointsTexture, vec2((x + 0.5) * invSize, y));\n    Qt = texture2D(cc_jointsTexture, vec2((x + 1.5) * invSize, y));\n    S = texture2D(cc_jointsTexture, vec2((x + 2.5) * invSize, y)).xyz;\n  }\n#endif\n\nvoid skinRTS(out vec4 R, out vec3 T, out vec3 S) {\n  vec4 r, t, Qt = vec4(0.0); vec3 s;\n  R = vec4(0.0); S = vec3(0.0);\n\n  for (int i = 0; i < 4; i++) {\n    float w = a_weights[i];\n    getJointDQ(a_joints[i], r, t, s);\n    S += s * w; R += r * w; Qt += t * w;\n  }\n\n  float invNorm = 1.0 / length(R); R *= invNorm; Qt *= invNorm;\n  T = 2.0 * (R.w * Qt.xyz - Qt.w * R.xyz + cross(R.xyz, Qt.xyz));\n\n}\n\nvec3 VectorTransformQuat(vec3 v, vec4 Q) {\n  return v + 2.0 * cross(Q.xyz, cross(Q.xyz, v) + Q.w * v);\n}\n\nvoid CCSkin(inout vec4 position) {\n  vec4 R; vec3 T, S;\n  skinRTS(R, T, S);\n  position.xyz = VectorTransformQuat(position.xyz * S, R) + T;\n}\n\nvoid CCSkin(inout StandardAttributes attr) {\n  vec4 R; vec3 T, S;\n  skinRTS(R, T, S);\n  attr.position.xyz = VectorTransformQuat(attr.position.xyz * S, R) + T;\n  attr.normal = VectorTransformQuat(attr.normal, R);\n  attr.tangent.xyz = VectorTransformQuat(attr.tangent.xyz, R);\n}\n\n#endif\n\nstruct StandardVertInput {\n  highp vec4 position;\n  vec3 normal;\n  vec4 tangent;\n  int index;\n};\n\nvoid CCAttrToInput (in StandardAttributes attr, out StandardVertInput In) {\n  In.position = attr.position;\n  In.normal = attr.normal;\n  In.tangent = attr.tangent;\n  In.index = attr.index;\n}\n\nvoid CCVertInput (out StandardVertInput In) {\n  StandardAttributes attr;\n  CCDecode(attr);\n  #if CC_USE_SKINNING\n    CCSkin(attr);\n  #endif\n  CCAttrToInput(attr, In);\n}\n\nuniform vec4 tilingOffset;\n\n#define saturate(a) clamp( a, 0.0, 1.0 )\n\nhighp mat4 transposeMat4(in highp mat4 mat) {\n    highp vec4 i0 = mat[0];\n    highp vec4 i1 = mat[1];\n    highp vec4 i2 = mat[2];\n    highp vec4 i3 = mat[3];\n    return mat4(vec4(i0.x, i1.x, i2.x, i3.x),\n                vec4(i0.y, i1.y, i2.y, i3.y),\n                vec4(i0.z, i1.z, i2.z, i3.z),\n                vec4(i0.w, i1.w, i2.w, i3.w));\n}\n\nvarying vec3 v_position;\nvarying vec3 v_normal;\n#if USE_NORMAL_MAP\n  varying vec3 v_tangent;\n  varying vec3 v_bitangent;\n#endif\n\n#if USE_ALBEDO_MAP || USE_NORMAL_MAP || USE_PBR_MAP || USE_EMISSIVE_MAP || USE_METALLIC_ROUGHNESS_MAP || USE_OCCLUSION_MAP\n  attribute vec2 a_texCoord;\n  varying vec2 v_uv;\n#endif\n\nvec4 vert () {\n  StandardVertInput In;\n  CCVertInput(In);\n\n  #if USE_BATCHING\n    mat4 matWorld = cc_matWorlds[In.index];\n    mat4 matWorldIT = transposeMat4(matWorld);\n  #else\n    mat4 matWorld = cc_matWorld;\n    mat4 matWorldIT = cc_matWorldIT;\n  #endif\n\n  vec4 pos = matWorld * In.position;\n\n  v_position = pos.xyz;\n  v_normal = normalize((matWorldIT * vec4(In.normal, 0.0)).xyz);\n  #if USE_NORMAL_MAP\n    v_tangent = normalize((matWorldIT * vec4(In.tangent.xyz, 0.0)).xyz);\n    v_bitangent = cross(v_normal, v_tangent) * In.tangent.w;\n\n  #endif\n\n  #if USE_ALBEDO_MAP || USE_NORMAL_MAP || USE_PBR_MAP || USE_EMISSIVE_MAP || USE_METALLIC_ROUGHNESS_MAP || USE_OCCLUSION_MAP\n    v_uv = a_texCoord * tilingOffset.xy + tilingOffset.zw;\n  #endif\n\n  return cc_matViewProj * pos;\n}\n\nvoid main() { gl_Position = vert(); }\n","frag":"\n#if CC_USE_IBL\n  #ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n  #endif\n#endif\n\nprecision highp float;\nuniform vec4 cc_cameraPos;\nuniform vec4 cc_exposure;\nuniform vec4 cc_mainLitDir;\nuniform vec4 cc_mainLitColor;\nuniform vec4 cc_ambientSky;\nuniform vec4 cc_ambientGround;\n\n#if CC_USE_IBL\nuniform samplerCube cc_environment;\n\nvec3 unpackNormal(vec4 nmap) {\n  return nmap.xyz * 2.0 - 1.0;\n}\n\nvec3 unpackRGBE(vec4 rgbe) {\n    return rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\n}\n#endif\n\n#define saturate(a) clamp( a, 0.0, 1.0 )\n\nhighp mat4 transposeMat4(in highp mat4 mat) {\n    highp vec4 i0 = mat[0];\n    highp vec4 i1 = mat[1];\n    highp vec4 i2 = mat[2];\n    highp vec4 i3 = mat[3];\n    return mat4(vec4(i0.x, i1.x, i2.x, i3.x),\n                vec4(i0.y, i1.y, i2.y, i3.y),\n                vec4(i0.z, i1.z, i2.z, i3.z),\n                vec4(i0.w, i1.w, i2.w, i3.w));\n}\n\nvec3 SRGBToLinear(vec3 gamma)\n{\n\treturn pow(gamma, vec3(2.2));\n\n}\n\nvec3 LinearToSRGB(vec3 linear)\n{\n\treturn pow(linear, vec3(0.454545));\n\n}\nuniform highp vec4 cc_sphereLitPos[2];\nuniform vec4 cc_sphereLitSizeRange[2];\nuniform vec4 cc_sphereLitColor[2];\nuniform highp vec4 cc_spotLitPos[2];\nuniform vec4 cc_spotLitSizeRangeAngle[2];\nuniform vec4 cc_spotLitDir[2];\nuniform vec4 cc_spotLitColor[2];\n\nfloat SmoothDistAtt2(float distSqr, float invSqrAttRadius) {\n  float factor = distSqr * invSqrAttRadius;\n\n  float factor2 = factor * factor;\n\n  float factor3 = factor2 * factor2;\n\n  float smoothFactor = clamp(1.0 - factor3 * factor3, 0.0, 1.0);\n  return smoothFactor * smoothFactor;\n}\n\nfloat SmoothDistAtt(float distSqr, float invSqrAttRadius) {\n  float factor = distSqr * invSqrAttRadius;\n  float smoothFactor = clamp(1.0 - factor * factor, 0.0, 1.0);\n  return smoothFactor * smoothFactor;\n}\n\nfloat GetDistAtt(float distSqr, float invSqrAttRadius) {\n  float attenuation = 1.0 / max(distSqr, 0.01*0.01);\n  attenuation *= SmoothDistAtt(distSqr , invSqrAttRadius);\n  return attenuation;\n}\n\nfloat GetAngleAtt(vec3 L, vec3 litDir, float litAngleScale, float litAngleOffset) {\n  float cd = dot(litDir, L);\n  float attenuation = clamp(cd * litAngleScale + litAngleOffset, 0.0, 1.0);\n  return (attenuation * attenuation);\n}\n\nfloat GGXMobile(float roughness, float NoH, vec3 H, vec3 N) {\n  vec3 NxH = cross(N, H);\n  float OneMinusNoHSqr = dot(NxH, NxH);\n  float a = roughness * roughness;\n  float n = NoH * a;\n  float p = a / (OneMinusNoHSqr + n * n);\n  return p * p;\n}\n\nfloat CalcSpecular(float roughness, float NoH, vec3 H, vec3 N) {\n  return (roughness*0.25 + 0.25) * GGXMobile(roughness, NoH, H, N);\n}\n\nvec3 BRDFApprox(vec3 specular, float roughness, float NoV) {\n  const vec4 c0 = vec4(-1.0, -0.0275, -0.572, 0.022);\n  const vec4 c1 = vec4(1.0, 0.0425, 1.04, -0.04);\n  vec4 r = roughness * c0 + c1;\n  float a004 = min( r.x * r.x, exp2( -9.28 * NoV ) ) * r.x + r.y;\n  vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n  AB.y *= clamp(50.0 * specular.g, 0.0, 1.0);\n  return specular * AB.x + AB.y;\n}\n\nvec3 CalcDynamicLighting(vec3 worldPos, vec3 N, vec3 V, vec3 diffuse, vec3 specular, float roughness) {\n  vec3 lighting = vec3(0.0);\n\n  vec3 diffuseContrib = diffuse / 3.14159265359;\n\n  for (int i = 0; i < 2; i++) {\n    vec3 PLU = cc_sphereLitPos[i].xyz - worldPos;\n    vec3 PL = normalize(PLU);\n    vec3 PH = normalize(PL + V);\n    float PNL = max(dot(N, PL), 0.001);\n    float PNH = max(dot(N, PH), 0.0);\n\n    float distSqr = dot(PLU, PLU);\n    float litRadius = cc_sphereLitSizeRange[i].x;\n    float litRadiusSqr = litRadius * litRadius;\n    float illum = 3.14159265359 * (litRadiusSqr / max(litRadiusSqr , distSqr));\n    float attRadiusSqrInv = 1.0 / max(cc_sphereLitSizeRange[i].y, 0.01);\n    attRadiusSqrInv *= attRadiusSqrInv;\n    float att = GetDistAtt(distSqr, attRadiusSqrInv);\n    vec3 lspec = specular * CalcSpecular(roughness, PNH, PH, N);\n    lighting += PNL * cc_sphereLitColor[i].rgb * cc_sphereLitColor[i].w * illum * att * (diffuseContrib + lspec);\n  }\n\n  for (int i = 0; i < 2; i++) {\n    vec3 SLU = cc_spotLitPos[i].xyz - worldPos;\n    vec3 SL = normalize(SLU);\n    vec3 SH = normalize(SL + V);\n    float SNL = max(dot(N, SL), 0.001);\n    float SNH = max(dot(N, SH), 0.0);\n\n    float distSqr = dot(SLU, SLU);\n    float litRadius = cc_spotLitSizeRangeAngle[i].x;\n    float litRadiusSqr = litRadius * litRadius;\n    float illum = 3.14159265359 * (litRadiusSqr / max(litRadiusSqr , distSqr));\n    float attRadiusSqrInv = 1.0 / max(cc_spotLitSizeRangeAngle[i].y, 0.01);\n    attRadiusSqrInv *= attRadiusSqrInv;\n\n    float cosInner = max(dot(-cc_spotLitDir[i].xyz, SL), 0.01);\n    float cosOuter = cc_spotLitSizeRangeAngle[i].z;\n    float litAngleScale = 1.0 / max(0.001, cosInner - cosOuter);\n    float litAngleOffset = -cosOuter * litAngleScale;\n    float att = GetDistAtt(distSqr, attRadiusSqrInv);\n    att *= GetAngleAtt(SL, -cc_spotLitDir[i].xyz, litAngleScale, litAngleOffset);\n\n    vec3 lspec = specular * CalcSpecular(roughness, SNH, SH, N);\n    lighting += SNL * cc_spotLitColor[i].rgb * cc_spotLitColor[i].w * illum * att * (diffuseContrib + lspec);\n  }\n\n  return lighting;\n}\n\nstruct StandardSurface {\n\n  vec4 albedo;\n\n  vec3 position;\n  vec3 normal;\n\n  vec3 emissive;\n\n  float roughness;\n  float metallic;\n  float occlusion;\n};\n\nvec4 CCStandardShading (StandardSurface s) {\n\n  vec3 diffuse = s.albedo.rgb * (1.0 - s.metallic);\n  vec3 specular = mix(vec3(0.04), s.albedo.rgb, s.metallic);\n\n  vec3 N = normalize(s.normal);\n  vec3 V = normalize(cc_cameraPos.xyz - s.position);\n  vec3 L = normalize(-cc_mainLitDir.xyz);\n  vec3 H = normalize(L+V);\n  float NV = max(abs(dot(N, V)), 0.001);\n  float NL = max(dot(N, L), 0.001);\n  float NH = max(dot(N, H), 0.0);\n\n  specular = BRDFApprox(specular, s.roughness, NV);\n\n  vec3 diffuseContrib = diffuse / 3.14159265359;\n  vec3 specularContrib = specular * CalcSpecular(s.roughness, NH, H, N);\n\n  vec3 finalColor = NL * cc_mainLitColor.rgb * cc_mainLitColor.w * (diffuseContrib + specularContrib);\n\n  finalColor += CalcDynamicLighting(s.position, N, V, diffuse, specular, s.roughness);\n\n  float fAmb = 0.5 - N.y * 0.5;\n  vec3 ambDiff = mix(cc_ambientSky.rgb, cc_ambientGround.rgb, fAmb) * cc_ambientSky.w;\n  finalColor += (ambDiff.rgb * diffuse);\n\n  #if CC_USE_IBL\n    vec3 R = normalize(reflect(-V, N));\n\n    #ifdef GL_EXT_shader_texture_lod\n      vec4 envmap = textureCubeLodEXT(cc_environment, R, s.roughness * cc_ambientGround.w);\n    #else\n      vec4 envmap = textureCube(cc_environment, R);\n    #endif\n\n    #if CC_USE_IBL == 2\n\n      vec3 env = unpackRGBE(envmap);\n    #else\n      vec3 env = SRGBToLinear(envmap.rgb) * cc_ambientSky.w;\n    #endif\n    finalColor += env * specular;\n  #endif\n\n  finalColor = finalColor * s.occlusion;\n\n  #if CC_USE_HDR\n    s.emissive *= cc_exposure.w;\n  #endif\n  finalColor += s.emissive;\n\n  return vec4(finalColor, s.albedo.a);\n}\n\nvec4 CCFragOutput (vec4 color) {\n  #if !CC_USE_HDR\n    color.rgb = LinearToSRGB(color.rgb);\n  #endif\n  return color;\n}\n\nuniform vec4 albedo;\nuniform vec4 albedoScale;\nuniform vec4 pbrParams;\nuniform vec4 pbrScale;\nuniform vec4 emissive;\nuniform vec4 emissiveScale;\n\nvarying vec3 v_position;\n\n#if USE_ALBEDO_MAP || USE_NORMAL_MAP || USE_PBR_MAP || USE_EMISSIVE_MAP || USE_METALLIC_ROUGHNESS_MAP || USE_OCCLUSION_MAP\n  varying vec2 v_uv;\n#endif\n\nvarying vec3 v_normal;\n#if USE_NORMAL_MAP\n  varying vec3 v_tangent;\n  varying vec3 v_bitangent;\n#endif\n\n#if USE_ALBEDO_MAP\n  uniform sampler2D albedoMap;\n#endif\n#if USE_NORMAL_MAP\n  uniform sampler2D normalMap;\n#endif\n#if USE_PBR_MAP\n  uniform sampler2D pbrMap;\n#endif\n#if USE_METALLIC_ROUGHNESS_MAP\n  uniform sampler2D metallicRoughnessMap;\n#endif\n#if USE_OCCLUSION_MAP\n  uniform sampler2D occlusionMap;\n#endif\n#if USE_EMISSIVE_MAP\n  uniform sampler2D emissiveMap;\n#endif\n#if USE_ALPHA_TEST\n#endif\n\nvoid surf (out StandardSurface s) {\n  vec4 baseColor = albedo;\n  #if USE_ALBEDO_MAP\n    vec4 texColor = texture2D(albedoMap, v_uv);\n    texColor.rgb = SRGBToLinear(texColor.rgb);\n    baseColor *= texColor;\n  #endif\n  s.albedo = baseColor;\n  s.albedo.rgb *= albedoScale.xyz;\n\n  #if USE_ALPHA_TEST\n    if (s.albedo.ALPHA_TEST_CHANNEL < albedoScale.w) discard;\n  #endif\n\n  s.normal = v_normal;\n  #if USE_NORMAL_MAP\n    vec3 nmmp = texture2D(normalMap, v_uv).xyz - vec3(0.5);\n    s.normal =\n      (nmmp.x * pbrScale.w) * normalize(v_tangent) +\n      (nmmp.y * pbrScale.w) * normalize(v_bitangent) +\n      nmmp.z * normalize(s.normal);\n  #endif\n\n  s.position = v_position;\n\n  vec4 pbr = pbrParams;\n  #if USE_PBR_MAP\n    pbr = texture2D(pbrMap, v_uv);\n  #endif\n  #if USE_METALLIC_ROUGHNESS_MAP\n    vec4 metallicRoughness = texture2D(metallicRoughnessMap, v_uv);\n    pbr.METALLIC_CHANNEL = metallicRoughness.METALLIC_CHANNEL;\n    pbr.ROUGHNESS_CHANNEL = metallicRoughness.ROUGHNESS_CHANNEL;\n  #endif\n  #if USE_OCCLUSION_MAP\n    pbr.OCCLUSION_CHANNEL = texture2D(occlusionMap, v_uv).OCCLUSION_CHANNEL;\n  #endif\n  pbr *= pbrScale;\n  s.roughness = clamp(pbr.ROUGHNESS_CHANNEL, 0.04, 1.0);\n  s.metallic = clamp(pbr.METALLIC_CHANNEL, 0.0, 0.96);\n  s.occlusion = pbr.OCCLUSION_CHANNEL;\n\n  s.emissive = emissive.rgb * emissiveScale.xyz;\n  #if USE_EMISSIVE_MAP\n    s.emissive *= SRGBToLinear(texture2D(emissiveMap, v_uv).rgb);\n  #endif\n}\n\nvec4 frag () {\n  StandardSurface s; surf(s);\n  vec4 color = CCStandardShading(s);\n  return CCFragOutput(color);\n}\n\nvoid main() { gl_FragColor = frag(); }\n"},"builtins":{"globals":{"blocks":[{"name":"CCGlobal","defines":[]}],"samplers":[{"name":"cc_environment","defines":["CC_USE_IBL"]}]},"locals":{"blocks":[{"name":"CCLocal","defines":[]},{"name":"CCSkinningTexture","defines":["CC_USE_SKINNING"]},{"name":"CCSkinningAnimation","defines":["CC_USE_SKINNING"]},{"name":"CCForwardLight","defines":[]}],"samplers":[{"name":"cc_jointsTexture","defines":["CC_USE_SKINNING"]}]}},"defines":[{"name":"USE_BATCHING","type":"boolean"},{"name":"CC_USE_SKINNING","type":"number","range":[0,2]},{"name":"USE_NORMAL_MAP","type":"boolean"},{"name":"USE_ALBEDO_MAP","type":"boolean"},{"name":"CC_USE_IBL","type":"number","range":[0,2]},{"name":"CC_USE_HDR","type":"boolean"},{"name":"USE_PBR_MAP","type":"boolean"},{"name":"USE_METALLIC_ROUGHNESS_MAP","type":"boolean"},{"name":"USE_OCCLUSION_MAP","type":"boolean"},{"name":"USE_EMISSIVE_MAP","type":"boolean"},{"name":"ROUGHNESS_CHANNEL","type":"string","options":["r","g","b"]},{"name":"METALLIC_CHANNEL","type":"string","options":["g","r","b"]},{"name":"OCCLUSION_CHANNEL","type":"string","options":["b","r","g"]},{"name":"USE_ALPHA_TEST","type":"boolean"},{"name":"ALPHA_TEST_CHANNEL","type":"string","options":["a","r","g","b"]}],"blocks":[{"name":"Constants","members":[{"name":"tilingOffset","type":16,"count":1},{"name":"albedo","type":16,"count":1},{"name":"albedoScale","type":16,"count":1},{"name":"pbrParams","type":16,"count":1},{"name":"pbrScale","type":16,"count":1},{"name":"emissive","type":16,"count":1},{"name":"emissiveScale","type":16,"count":1}],"defines":[],"binding":0}],"samplers":[{"name":"albedoMap","type":28,"count":1,"defines":["USE_ALBEDO_MAP"],"binding":30},{"name":"normalMap","type":28,"count":1,"defines":["USE_NORMAL_MAP"],"binding":31},{"name":"pbrMap","type":28,"count":1,"defines":["USE_PBR_MAP"],"binding":32},{"name":"metallicRoughnessMap","type":28,"count":1,"defines":["USE_METALLIC_ROUGHNESS_MAP"],"binding":33},{"name":"occlusionMap","type":28,"count":1,"defines":["USE_OCCLUSION_MAP"],"binding":34},{"name":"emissiveMap","type":28,"count":1,"defines":["USE_EMISSIVE_MAP"],"binding":35}],"name":"builtin-standard|standard-vs:vert|standard-fs:frag"}],"combinations":[]},{"__type__":"cc.ImageAsset","content":{"fmt":"0","w":0,"h":0}},{"__type__":"cc.SpriteFrame","content":{"image":"1c379ca0-fb38-4c90-ad01-2341a05b0ff0","name":"again2","atlas":"","rect":{"x":0,"y":0,"width":265,"height":99},"offset":{"x":-0.5,"y":0.5},"originalSize":{"width":266,"height":100},"rotated":false,"capInsets":[0,0,0,0]}},{"__type__":"cc.ImageAsset","content":{"fmt":"0","w":0,"h":0}},{"__type__":"cc.SpriteFrame","content":{"image":"269b6348-fa7c-43da-8e40-d11317278a5c","name":"win","atlas":"","rect":{"x":0,"y":1,"width":369,"height":69},"offset":{"x":0,"y":0.5},"originalSize":{"width":369,"height":72},"rotated":false,"capInsets":[0,0,0,0]}},{"__type__":"cc.ImageAsset","content":{"fmt":"0","w":0,"h":0}},{"__type__":"cc.SpriteFrame","content":{"image":"4243d1c1-6aae-4fea-bedf-4aa4ccb99937","name":"next1","atlas":"","rect":{"x":0,"y":0,"width":398,"height":65},"offset":{"x":0,"y":0},"originalSize":{"width":398,"height":65},"rotated":false,"capInsets":[0,0,0,0]}},{"__type__":"cc.ImageAsset","content":{"fmt":"0","w":0,"h":0}},{"__type__":"cc.SpriteFrame","content":{"image":"5440b0fe-9702-4e8a-88fc-cf3ce500697c","name":"return2","atlas":"","rect":{"x":0,"y":0,"width":256,"height":64},"offset":{"x":0,"y":0},"originalSize":{"width":256,"height":64},"rotated":false,"capInsets":[0,0,0,0]}},{"__type__":"cc.AudioClip","_name":"win","_objFlags":0,"_native":".mp3","_duration":5.041625,"_loadMode":0},{"__type__":"cc.AudioClip","_name":"Jump","_objFlags":0,"_native":".mp3","_duration":0.312,"_loadMode":0},{"__type__":"cc.ImageAsset","content":{"fmt":"0","w":0,"h":0}},{"__type__":"cc.SpriteFrame","content":{"image":"71a40d98-d866-40df-aaaf-99711a6c946a","name":"lose","atlas":"","rect":{"x":0,"y":0,"width":393,"height":70},"offset":{"x":-0.5,"y":0},"originalSize":{"width":394,"height":70},"rotated":false,"capInsets":[0,0,0,0]}},{"__type__":"cc.ImageAsset","content":{"fmt":"0","w":0,"h":0}},{"__type__":"cc.SpriteFrame","content":{"image":"7d8f9b89-4fd1-4c9f-a3ab-38ec7cded7ca","name":"default_sprite_splash","atlas":"","rect":{"x":0,"y":0,"width":2,"height":2},"offset":{"x":0,"y":0},"originalSize":{"width":2,"height":2},"rotated":false,"capInsets":[0,0,0,0]}},{"__type__":"cc.AnimationClip","_name":"EndLayerAnim","_objFlags":0,"_native":"","sample":60,"speed":1,"wrapMode":1,"curveDatas":{},"_curves":[{"modifiers":[{"__type__":"cc.HierachyModifier","path":"Win"},"position"],"data":{"keys":0,"values":[{"__type__":"cc.Vec3","x":0,"y":600,"z":0},{"__type__":"cc.Vec3","x":0,"y":181.961,"z":0}],"easingMethods":["quartOut",null]}},{"modifiers":[{"__type__":"cc.HierachyModifier","path":"Lose"},"position"],"data":{"keys":1,"values":[{"__type__":"cc.Vec3","x":0,"y":600,"z":0},{"__type__":"cc.Vec3","x":0,"y":181.961,"z":0}],"easingMethods":["quartOut",null]}},{"modifiers":[{"__type__":"cc.HierachyModifier","path":"Next"},"scale"],"data":{"keys":2,"values":[{"__type__":"cc.Vec3","x":0,"y":0,"z":0},{"__type__":"cc.Vec3","x":0.1,"y":0.1,"z":0.1},{"__type__":"cc.Vec3","x":1,"y":1,"z":1},{"__type__":"cc.Vec3","x":1.1,"y":1.1,"z":1.1}],"easingMethods":[null,null,"quadOut",null]}},{"modifiers":[{"__type__":"cc.HierachyModifier","path":"Again"},"scale"],"data":{"keys":3,"values":[{"__type__":"cc.Vec3","x":0,"y":0,"z":0},{"__type__":"cc.Vec3","x":0.1,"y":0.1,"z":0.1},{"__type__":"cc.Vec3","x":1.1,"y":1.1,"z":1.1}],"easingMethods":[null,"quadOut",null]}},{"modifiers":[{"__type__":"cc.HierachyModifier","path":"Return"},"scale"],"data":{"keys":4,"values":[{"__type__":"cc.Vec3","x":0,"y":0,"z":0},{"__type__":"cc.Vec3","x":0,"y":0,"z":0},{"__type__":"cc.Vec3","x":1,"y":1,"z":1}],"easingMethods":[null,"quadOut",null]}}],"events":[],"_duration":1.25,"_keys":[[0,0.5],[0,0.5],[0,0.5,0.5166666666666667,1.0166666666666666],[0,0.5,1],[0,0.75,1.25]],"_stepness":0},{"__type__":"cc.Material","_name":"","_objFlags":0,"_native":"","_effectAsset":{"__uuid__":"a3cd009f-0ab0-420d-9278-b9fdab939bbc"},"_techIdx":0,"_defines":[{"USE_COLOR":true}],"_states":[{"blendState":{"targets":[{}]},"depthStencilState":{},"rasterizerState":{}}],"_props":[{"color":{"__type__":"cc.Color","r":65,"g":186,"b":255,"a":255}}]},{"__type__":"cc.Material","_name":"","_objFlags":0,"_native":"","_effectAsset":{"__uuid__":"a3cd009f-0ab0-420d-9278-b9fdab939bbc"},"_techIdx":"0","_defines":[{"USE_TEXTURE":true}],"_states":[{"blendState":{"targets":[{}]},"depthStencilState":{},"rasterizerState":{}}],"_props":[{"mainTexture":{"__uuid__":"e4bcc377-170d-4cb1-a49d-7f8315dca66f@6c48a"}}]},{"__type__":"cc.ImageAsset","content":{"fmt":"0","w":0,"h":0}},{"__type__":"cc.SpriteFrame","content":{"image":"b92606f1-f603-4099-8fcb-dbc4a13df1f3","name":"again1","atlas":"","rect":{"x":0,"y":0,"width":265,"height":99},"offset":{"x":-0.5,"y":0.5},"originalSize":{"width":266,"height":100},"rotated":false,"capInsets":[0,0,0,0]}},{"__type__":"cc.AudioClip","_name":"lose","_objFlags":0,"_native":".mp3","_duration":9.377958,"_loadMode":0},{"__type__":"cc.Material","_name":"","_objFlags":0,"_native":"","_effectAsset":{"__uuid__":"1baf0fc9-befa-459c-8bdd-af1a450a0319"},"_techIdx":0,"_defines":[],"_states":[],"_props":[]},{"__type__":"cc.AudioClip","_name":"Movement","_objFlags":0,"_native":".mp3","_duration":0.783667,"_loadMode":0},{"__type__":"cc.ImageAsset","content":{"fmt":"0","w":0,"h":0}},{"__type__":"cc.SpriteFrame","content":{"image":"f9ca79c0-a059-4b96-8c47-9b0d6722ab70","name":"return","atlas":"","rect":{"x":0,"y":1,"width":258,"height":64},"offset":{"x":0,"y":-0.5},"originalSize":{"width":258,"height":65},"rotated":false,"capInsets":[0,0,0,0]}}]
